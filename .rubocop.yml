inherit_from: .rubocop_todo.yml

require:
  - rubocop-rspec
  - rubocop-rails
  - rubocop-faker
  - rubocop-capybara
  - rubocop-factory_bot

inherit_mode:
  merge:
    - Exclude

Rails:
  Enabled: true

AllCops:
  TargetRubyVersion: 3.2
  NewCops: enable
  Exclude:
    # Fully autogenerated config files:
    - bin/*
    # Other autogenerated files
    - db/schema.rb
    # Old migrations
    - db/migrate/201*.rb

Security/YAMLLoad:
  Exclude:
    # Loading yaml from the cache containing serialized object:
    - app/controllers/events/imports_controller.rb

Style/Documentation:
  Exclude:
    - app/controllers/**/*.rb
    - app/helpers/**/*.rb
    - app/models/**/*.rb
    - db/migrate/**/*.rb

Style/NumericLiterals:
  Exclude:
    - lib/omniauth_test_response_builder.rb
    # Files where this picks up a lot of false positives
    - spec/**/*_spec.rb
    - spec/support/**/*.rb

Style/StringLiterals:
  EnforcedStyle: double_quotes
  Exclude:
    # Fully and mostly autogenerated config files
    - config/environments/*.rb
    - config/environment.rb
    - config/application.rb
    - config/puma.rb
    - config/boot.rb
    - config/initializers/backtrace_silencers.rb
    - config.ru

Style/SymbolArray:
  Exclude:
    # Fully and mostly autogenerated config files:
    - config/initializers/filter_parameter_logging.rb

Style/FrozenStringLiteralComment:
  Exclude:
    # Fully and mostly autogenerated config files:
    - config/environments/*.rb
    - config/spring.rb
    - config/puma.rb
    - config/environment.rb
    - config/application.rb
    - config/boot.rb
    - config/initializers/application_controller_renderer.rb
    - config/initializers/backtrace_silencers.rb
    - config/initializers/cors.rb
    - config/initializers/mime_types.rb
    - config/initializers/new_framework_defaults*.rb
    - config/initializers/filter_parameter_logging.rb
    - config/initializers/session_store.rb
    - config/initializers/wrap_parameters.rb
    - config/initializers/assets.rb
    - config/initializers/cookies_serializer.rb
    - config/initializers/content_security_policy.rb
    - config/initializers/inflections.rb
    - config/initializers/permissions_policy.rb
    - config.ru

Style/RedundantFetchBlock:
  Exclude:
    # Fully and mostly autogenerated config files:
    - config/puma.rb

Layout/SpaceInsideArrayLiteralBrackets:
  Exclude:
    # Fully and mostly autogenerated config files:
    - config/environments/*.rb

Style/PercentLiteralDelimiters:
  Exclude:
    # Fully and mostly autogenerated config files:
    - config/spring.rb

Metrics/BlockLength:
  Exclude:
    # DSL files:
    - config/environments/*.rb
    - config/routes.rb
    - spec/**/*_spec.rb
    - spec/factories.rb

Metrics/ModuleLength:
  Exclude:
    # Files where the methods are basically html templates:
    - app/helpers/listings_helper.rb

Metrics/MethodLength:
  CountAsOne: ['array', 'hash', 'heredoc']
  Exclude:
    - db/**/*.rb
    # Files where the methods are basically html templates:
    - app/helpers/listings_helper.rb
    - app/helpers/map_listings_helper.rb

RSpec/DescribeClass:
  Exclude:
    - spec/system/**/*_spec.rb

RSpec/ExampleLength:
  Max: 10
  Exclude:
    - spec/system/**/*_spec.rb
    - spec/models/auth_response_spec.rb
    - spec/models/advert_spec.rb
    - spec/lib/facebook_graph_api/http_client_spec.rb
    - spec/lib/omniauth_test_response_builder_spec.rb
    - spec/services/events_importer_spec.rb
    - spec/services/revoke_login_spec.rb

RSpec/MultipleExpectations:
  Exclude:
    - spec/system/**/*_spec.rb

RSpec/VerifiedDoubleReference:
  Enabled: false

Rails/FilePath:
  Exclude:
    # Fully and mostly autogenerated config files:
    - config/environments/*.rb
